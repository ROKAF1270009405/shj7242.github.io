---
layout:     post
title:      "[Spring] MyBatis"

date:       2017-10-14 23:30:00
author:     "신희준"
header-img: "img/post-bg-02.jpg"
---
<br>
<H4 style ="font-weight:bold; color : orange">2017 - 10 - 14 (토)</H4>
<li>MyBatis</li>

<br>
<H4 style ="font-weight:bold; color:orange;">코드로 배우는 스프링 웹프로젝트[구멍가게 코딩단 지음] 참조</H4>
<br>

<h5 style = "font-size: 17px; font-weight : bold;">1 .. Spring과 MyBatis 연동</h5>

<br><br>

>>라이브러리 추가

<br>
<p style="font-size:14px;">
1..  mvnrepostorty 에서 MyBatis / MyBatis-Spring / spring-jdbc / spring-test 라이브러리를 pom.xml 추가해줍니다. <br>
(Spring-test는 ByBatis가 정상적으로 연동되었는지 확인하는 용도로 사용한다.)
<br><br>
</p>

<br>
<img src="{{ site.baseurl }}/img/names.JPG" alt="Post Sample Image">


<p style="font-size:14px;">

2..  위의 화면처럼 src/main/webapp/WEB-INF/spring/root-context.xml에 Namespace를 추가해준다. <br>
(이 파일은 스프링 설정 시 웹 자원과 관련되지 않은 모든 자원의 설정을 위해 필요하다.)   

<br><br>
3..  JDBC 연결을 위해서 아래의 코드를 root-context.xml에 추가해준다.
</p>
<br>

~~~xml
//root-context.xml
//spring-jdbc의 클래스를 이용하기 위함

<bean id="dataSource"

		class="org.springframework.jdbc.datasource.DriverManagerDataSource">
		<property name="driverClassName" value="com.mysql.jdbc.Driver"></property>

		<property name="url"
			value="jdbc:mysql://127.0.0.1:3306/book_ex?useSSL=false"></property>

		<property name="username" value="zerock"></property>
		<property name="password" value="zerock"></property>
	</bean>
~~~

<br>
<p style="font-size:14px;">
<br>4.. DataSource test클래스를 작성한다. (src/test/java/org/zerock/web)
</p>

<br>

~~~java
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations= {"file:src/main/webapp/WEB-INF/spring/**/root-context.xml"})
public class DataSourceTest {
   @Inject
   private DataSource ds;
   @Test
   public void testConnection()throws Exception{      
      try(Connection con = ds.getConnection()){
         System.out.println(con);
      }catch(Exception e) {
         e.printStackTrace();
      }
   }
}
~~~
